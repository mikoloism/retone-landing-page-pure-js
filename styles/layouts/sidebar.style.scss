@import "../utils/_breakpoints.scss";

.sidebar {
	&,
	&__close,
	&__inner,
	&__header,
	&__icon,
	&__navigation {
		padding: 0;
		margin: 0;
	}

	& {
		position: fixed;
		top: 0;
		bottom: 0;
		right: -110vw;

		display: flex;
		width: 100vw;
		max-width: 100vw;
		height: 100vh;

		padding: 0;
		margin: 0;

		flex-direction: column;
		flex-wrap: wrap;

		place-items: center;
		place-content: center;

		z-index: 9999;
		overflow: hidden;

		fill: white;
		color: white;
		background: rgba(black, 80%);
		backdrop-filter: blur(8px);
	}

	&--visible {
		animation: sidebar-push-in 0.7s 0.4s ease both;
	}

	&__close {
		& {
			cursor: pointer;
		}

		display: none;
		height: 100%;

		@include use-tablet {
			display: inline-block;
			width: 66.666666667%;
		}
	}

	&__inner {
		display: inline-flex;
		min-width: max-content;
		width: 100%;
		@include use-tablet {
			width: 33.3333333%;
		}
		height: 100%;

		flex-wrap: wrap;
		flex-direction: column;
		opacity: 0;
	}

	&--visible &__inner {
		opacity: 1;
	}

	&__header {
		display: inline-flex;
		width: 100%;
		height: 64px;

		flex-wrap: wrap;
		flex-direction: row;

		place-items: center;
		place-content: flex-end;

		overflow: hidden;
	}

	&__navigation {
		height: calc(100% - 66px);
	}
}

// TODO : extract to `navigation layouts`;
.sidebar .navigation {
	&,
	&__list,
	&__item,
	&__link,
	&__text {
		padding: 0;
		margin: 0;
	}

	& {
		display: inline-flex;
		width: 100%;

		place-items: center;
		place-content: center;
	}

	&__list {
		list-style: none;

		display: inline-block;
		width: 100%;
		max-height: 100%;

		overflow: hidden;
		overflow-y: auto;
		padding-bottom: 64px;
	}

	&__item {
		display: flex;
		width: 100%;
		height: 4rem;

		font-size: 1.785rem;
		line-height: 2rem;
		letter-spacing: -0.075rem;

		place-items: center;
		place-content: center;
	}

	&__link {
		display: flex;
		width: 100%;
		height: 100%;

		padding: 1rem 0;

		place-items: center;
		place-content: flex-start;

		color: inherit;
		user-select: none;
		touch-action: auto;
		pointer-events: fill;
		cursor: pointer;
		text-decoration: none;
	}

	&__text {
		display: inline-block;
		padding-left: viewHeight(4);
	}
}

@keyframes sidebar-push-in {
	from,
	0% {
		right: -110vw;
	}

	to,
	100% {
		right: 0;
	}
}
